{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\naeem\\\\Desktop\\\\css\\\\react js\\\\crown-clothing\\\\client\\\\src\\\\Pages\\\\shop\\\\shop.component.jsx\";\nimport React, { useEffect } from 'react';\nimport { Route } from 'react-router-dom'; //import {createStructuredSelector} from 'reselect';\n\nimport { connect } from 'react-redux';\nimport CollectionOverviewContainer from '../../Components/collection-overview/collections-overview.container';\nimport CollectionPageContainer from '../collection/collection.container'; //import {firestore , convertCollectionsSnapshotToMap} from '../../firebase/firebase.utils';\n\nimport { fetchCollectionsStart } from '../../redux/shop/shop.action'; // import { selectIsCollectionsLaoded} from '../../redux/shop/shop.selector';\n//import WithSpinner from '../../Components/with-spinner/with-spinner.component'\n//const CollectionOverviewWithSpinner = WithSpinner (CollectionOverview);\n//const CollectionPageWithSpinner = WithSpinner(CollectionPage);\n\nconst ShopPage = ({\n  fetchCollectionsStart,\n  match\n}) => {\n  // constructor () {\n  //     super();\n  //     this.state= {\n  //         loading : true\n  //     }\n  // }\n  // unsubscribeFromSnapshot = null;\n  useEffect(() => {\n    fetchCollectionsStart();\n  }, [fetchCollectionsStart]); // componentDidMount() {\n  //     const {fetchCollectionsStart} = this.props;\n  //     fetchCollectionsStart();\n  // const {updateCollections} =this.props;\n  // const collectionRef = firestore.collection('collections');\n  // fetch(\n  //     'https://firestore.googleapis.com/v1/projects/crown-db-bef58/databases/(default)/documents/collections'\n  //     )\n  //     .then(response => response.json())\n  //     .then(collections => console.log(collections));\n  // collectionRef.get().then(\n  //     snapShot => {\n  //         const collectionsMap =   convertCollectionsSnapshotToMap(snapShot);\n  //         updateCollections(collectionsMap);\n  //         this.setState({loading :false});\n  //         //console.log(collectionsMap);\n  //        }\n  // )\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${match.path}` //  \n    ,\n    component: CollectionOverviewContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: `${match.path}/:collectionId` //  render = { props => (\n    // <CollectionPageWithSpinner isLoading ={!isCollectionsLoaded} {...props} /> \n    // )} \n    ,\n    component: CollectionPageContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }));\n}; // const {match } = this.props;\n// const {loading} = this.state;\n//console.log(match);\n// const mapStateToProps = createStructuredSelector ({\n//     //isCollectionFetching : selectIsCollectionFetching,\n//     isCollectionsLoaded : selectIsCollectionsLaoded\n// })\n\n\nconst mapDispatchToProps = dispatch => ({\n  // updateCollections : collectionsMap =>\n  // dispatch(updateCollections(collectionsMap))\n  fetchCollectionsStart: () => dispatch(fetchCollectionsStart())\n});\n\nexport default connect(null, mapDispatchToProps)(ShopPage);","map":{"version":3,"sources":["C:/Users/naeem/Desktop/css/react js/crown-clothing/client/src/Pages/shop/shop.component.jsx"],"names":["React","useEffect","Route","connect","CollectionOverviewContainer","CollectionPageContainer","fetchCollectionsStart","ShopPage","match","path","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAA+B,OAA/B;AACA,SAAQC,KAAR,QAAoB,kBAApB,C,CACA;;AACA,SAAQC,OAAR,QAAsB,aAAtB;AAEA,OAAOC,2BAAP,MAAwC,qEAAxC;AACA,OAAOC,uBAAP,MAAoC,oCAApC,C,CACA;;AACA,SAAUC,qBAAV,QAAuC,8BAAvC,C,CACA;AACA;AAEA;AACA;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAACD,EAAAA,qBAAD;AAAwBE,EAAAA;AAAxB,CAAD,KAAqC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACZK,IAAAA,qBAAqB;AACxB,GAFQ,EAEP,CAACA,qBAAD,CAFO,CAAT,CATkD,CAYlD;AAEA;AACA;AAGI;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAO;AAAK,IAAA,SAAS,EAAG,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEP,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AACC,IAAA,IAAI,EAAK,GAAEE,KAAK,CAACC,IAAK,EADvB,CAEA;AAFA;AAGA,IAAA,SAAS,EAAEL,2BAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFO,eAOP,oBAAC,KAAD;AACC,IAAA,IAAI,EAAK,GAAEI,KAAK,CAACC,IAAK,gBADvB,CAEA;AACA;AACA;AAJA;AAKA,IAAA,SAAS,EAAEJ,uBALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPO,CAAP;AAkBH,CAzDL,C,CA4DE;AACA;AAEM;AAIR;AACA;AACA;AAEA;;;AAEA,MAAMK,kBAAkB,GAAGC,QAAQ,KAAK;AACpC;AACA;AAEAL,EAAAA,qBAAqB,EAAE,MAAMK,QAAQ,CAACL,qBAAqB,EAAtB;AAJD,CAAL,CAAnC;;AAOA,eAAeH,OAAO,CAAC,IAAD,EAAMO,kBAAN,CAAP,CACVH,QADU,CAAf","sourcesContent":["import React , {useEffect}from 'react';\r\nimport {Route} from 'react-router-dom';\r\n//import {createStructuredSelector} from 'reselect';\r\nimport {connect} from 'react-redux';\r\n\r\nimport CollectionOverviewContainer from '../../Components/collection-overview/collections-overview.container';\r\nimport CollectionPageContainer from '../collection/collection.container';\r\n//import {firestore , convertCollectionsSnapshotToMap} from '../../firebase/firebase.utils';\r\nimport {  fetchCollectionsStart } from '../../redux/shop/shop.action';\r\n// import { selectIsCollectionsLaoded} from '../../redux/shop/shop.selector';\r\n//import WithSpinner from '../../Components/with-spinner/with-spinner.component'\r\n\r\n//const CollectionOverviewWithSpinner = WithSpinner (CollectionOverview);\r\n//const CollectionPageWithSpinner = WithSpinner(CollectionPage);\r\n\r\nconst ShopPage = ({fetchCollectionsStart, match}) =>  {\r\n    // constructor () {\r\n    //     super();\r\n    //     this.state= {\r\n    //         loading : true\r\n    //     }\r\n    // }\r\n    // unsubscribeFromSnapshot = null;\r\n\r\n    useEffect(() => {\r\n        fetchCollectionsStart();\r\n    },[fetchCollectionsStart]);\r\n    // componentDidMount() {\r\n\r\n    //     const {fetchCollectionsStart} = this.props;\r\n    //     fetchCollectionsStart();\r\n\r\n\r\n        // const {updateCollections} =this.props;\r\n        // const collectionRef = firestore.collection('collections');\r\n\r\n        // fetch(\r\n        //     'https://firestore.googleapis.com/v1/projects/crown-db-bef58/databases/(default)/documents/collections'\r\n        //     )\r\n\r\n        //     .then(response => response.json())\r\n        //     .then(collections => console.log(collections));\r\n\r\n\r\n        // collectionRef.get().then(\r\n        //     snapShot => {\r\n\r\n        //         const collectionsMap =   convertCollectionsSnapshotToMap(snapShot);\r\n        //         updateCollections(collectionsMap);\r\n        //         this.setState({loading :false});\r\n        //         //console.log(collectionsMap);\r\n        //        }\r\n        // )\r\n\r\n        return(<div className = 'shop-page'> \r\n          \r\n        <Route exact\r\n         path = {`${match.path}`} \r\n        //  \r\n        component={CollectionOverviewContainer} \r\n        />\r\n        <Route\r\n         path = {`${match.path}/:collectionId`}\r\n        //  render = { props => (\r\n        // <CollectionPageWithSpinner isLoading ={!isCollectionsLoaded} {...props} /> \r\n        // )} \r\n        component={CollectionPageContainer }\r\n\r\n        />\r\n\r\n        </div>);\r\n            \r\n    }\r\n\r\n\r\n  // const {match } = this.props;\r\n  // const {loading} = this.state;\r\n\r\n        //console.log(match);\r\n\r\n\r\n\r\n// const mapStateToProps = createStructuredSelector ({\r\n//     //isCollectionFetching : selectIsCollectionFetching,\r\n//     isCollectionsLoaded : selectIsCollectionsLaoded\r\n\r\n// })\r\n \r\nconst mapDispatchToProps = dispatch => ({\r\n    // updateCollections : collectionsMap =>\r\n    // dispatch(updateCollections(collectionsMap))\r\n\r\n    fetchCollectionsStart: () => dispatch(fetchCollectionsStart())\r\n});\r\n\r\nexport default connect(null,mapDispatchToProps)\r\n    (ShopPage);"]},"metadata":{},"sourceType":"module"}