{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\naeem\\\\Desktop\\\\css\\\\react js\\\\crown-clothing\\\\client\\\\src\\\\App.js\";\nimport React, { useEffect, lazy, Suspense } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect'; // import logo from './logo.svg';\n//import './App.css';\n\nimport { GlobalStyle } from './global.styles'; //import HomePage from './Pages/Homepages/homepage.component';\n//import ShopPage from './Pages/shop/shop.component.jsx';\n\nimport Header from './Components/header/header.component.jsx'; //import SignInandSignUp from './Pages/sign-in&sign-up/sign-in&sign-up.jsx';\n//import CheckoutPage from './Pages/checkout/checkout';\n//import {auth , createUserProfileDocument  } from './firebase/firebase.utils'; //addCollectionAndDocuments fro fire bases\n//import {setCurrentUser} from './redux/user/user.actions';\n\nimport { selectCurrentUser } from './redux/user/user.selector';\nimport { checkUserSession } from './redux/user/user.actions'; //import {selectCollectionsForPreivew} from './redux/shop/shop.selector';\n\nconst HomePage = lazy(() => import('./Pages/Homepages/homepage.component'));\nconst ShopPage = lazy(() => import('./Pages/shop/shop.component.jsx'));\nconst SignInandSignUp = lazy(() => import('./Pages/sign-in&sign-up/sign-in&sign-up.jsx'));\nconst CheckoutPage = lazy(() => import('./Pages/checkout/checkout')); // const HatsPage = () => (\n// <div>\n//   <h1>Hats Page</h1>\n// </div>\n// );\n// const TopicDetail = (props) => {\n//   console.log (props)\n//   return(\n//   <div>\n//     <h1>Topic List Detail Page : {props.match.params.topicsid}</h1>\n//   </div> );\n// };\n//   const TopicList = () => (\n//     <div>\n//       <h1>Topics List</h1>\n//     </div>\n//     );\n// for using useEffect weconvert our class in to function\n\nconst App = ({\n  checkUserSession,\n  currentUser\n}) => {\n  // constructor() {  after redux we dont need the constructor any more\n  //   super ();\n  //   this.state ={\n  //     currentUser : null\n  //   };\n  // }\n  // unSubscribeFromAuth = null;\n  useEffect(() => {\n    checkUserSession();\n  }, [checkUserSession]); //  const {setCurrentUser } =this.props; // we add collectionsArray here for firebase that we remove later\n  //   this.unSubscribeFromAuth = auth.onAuthStateChanged ( async userAuth => {\n  //     if (userAuth){\n  //       const userRef = await createUserProfileDocument(userAuth);\n  //       userRef.onSnapshot(snapShot => {\n  //         this.props.setCurrentUser({\n  //             id: snapShot.id, ...snapShot.data() \n  //         } , () => {\n  //           console.log(this.state); // in a sync we write consle after the () =>\n  //         } we removed because not need in sign up\n  //         });\n  //         //console.log(this.state);\n  //       });\n  //     }\n  //     else {setCurrentUser(userAuth);} //curent user to null\n  // createUserProfileDocument(user); //for checking data of user in database firebase\n  //for adding to firebase\n  //addCollectionAndDocuments('collections', collectionsArray.map(({title,items})=>({title,items})));\n  // this.setState ({currentUser: user});\n  //console.log(user);\n  // } );\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(GlobalStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, \"...Loading\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: HomePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 2\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/shop\",\n    component: ShopPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/checkout\",\n    component: CheckoutPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    render: () => currentUser ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 62\n      }\n    }) : /*#__PURE__*/React.createElement(SignInandSignUp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 88\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 2\n    }\n  })));\n}; // componentWillUnmount() {\n//    this.unSubscribeFromAuth();\n// }\n\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser //collectionsArray: selectCollectionsForPreivew\n\n}); // const mapDispatchToProps=dispatch => ({\n//   setCurrentUser: user => dispatch(setCurrentUser(user)) // the user is oof user-reducer\n// });\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSession: () => dispatch(checkUserSession())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["C:/Users/naeem/Desktop/css/react js/crown-clothing/client/src/App.js"],"names":["React","useEffect","lazy","Suspense","Route","Switch","Redirect","connect","createStructuredSelector","GlobalStyle","Header","selectCurrentUser","checkUserSession","HomePage","ShopPage","SignInandSignUp","CheckoutPage","App","currentUser","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React , {useEffect , lazy ,Suspense}from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {createStructuredSelector} from 'reselect';\n// import logo from './logo.svg';\n\n//import './App.css';\nimport { GlobalStyle } from './global.styles';\n\n//import HomePage from './Pages/Homepages/homepage.component';\n//import ShopPage from './Pages/shop/shop.component.jsx';\nimport Header from  './Components/header/header.component.jsx';\n//import SignInandSignUp from './Pages/sign-in&sign-up/sign-in&sign-up.jsx';\n//import CheckoutPage from './Pages/checkout/checkout';\n\n//import {auth , createUserProfileDocument  } from './firebase/firebase.utils'; //addCollectionAndDocuments fro fire bases\n\n//import {setCurrentUser} from './redux/user/user.actions';\nimport {selectCurrentUser} from './redux/user/user.selector';\nimport {checkUserSession} from './redux/user/user.actions';\n//import {selectCollectionsForPreivew} from './redux/shop/shop.selector';\n\nconst HomePage = lazy (() => import ('./Pages/Homepages/homepage.component'));\nconst ShopPage = lazy (() => import('./Pages/shop/shop.component.jsx'));\nconst SignInandSignUp = lazy (() => import( './Pages/sign-in&sign-up/sign-in&sign-up.jsx'));\nconst CheckoutPage = lazy (() => import ('./Pages/checkout/checkout'));\n// const HatsPage = () => (\n// <div>\n//   <h1>Hats Page</h1>\n// </div>\n\n// );\n\n// const TopicDetail = (props) => {\n//   console.log (props)\n//   return(\n//   <div>\n//     <h1>Topic List Detail Page : {props.match.params.topicsid}</h1>\n//   </div> );\n  \n// };\n\n//   const TopicList = () => (\n//     <div>\n//       <h1>Topics List</h1>\n//     </div>\n    \n//     );\n\n// for using useEffect weconvert our class in to function\n\nconst App = ({ checkUserSession, currentUser }) => {\n  // constructor() {  after redux we dont need the constructor any more\n  //   super ();\n\n  //   this.state ={\n  //     currentUser : null\n  //   };\n  // }\n  // unSubscribeFromAuth = null;\n\n  useEffect (() => {\n    checkUserSession()\n  } , [checkUserSession]);\n\n\n  //  const {setCurrentUser } =this.props; // we add collectionsArray here for firebase that we remove later\n\n  //   this.unSubscribeFromAuth = auth.onAuthStateChanged ( async userAuth => {\n\n  //     if (userAuth){\n  //       const userRef = await createUserProfileDocument(userAuth);\n\n  //       userRef.onSnapshot(snapShot => {\n  //         this.props.setCurrentUser({\n            \n  //             id: snapShot.id, ...snapShot.data() \n            \n  //         } , () => {\n  //           console.log(this.state); // in a sync we write consle after the () =>\n  //         } we removed because not need in sign up\n\n  //         });\n\n  //         //console.log(this.state);\n  //       });\n        \n\n  //     }\n  //     else {setCurrentUser(userAuth);} //curent user to null\n      // createUserProfileDocument(user); //for checking data of user in database firebase\n            //for adding to firebase\n           //addCollectionAndDocuments('collections', collectionsArray.map(({title,items})=>({title,items})));\n    // this.setState ({currentUser: user});\n\n     //console.log(user);\n // } );\n \n return (\n  <div>\n    {/* <Header currentUser={this.state.currentUser}/>  we make header empty after importing redux*/}\n \n<GlobalStyle/>\n\n <Header/>\n <Switch>\n   <Suspense fallback= {<div>...Loading</div>}>\n <Route exact path = '/' component ={HomePage} />\n    </Suspense>\n \n <Route path = '/shop' component = {ShopPage} />\n <Route exact path = '/checkout' component ={CheckoutPage} />\n\n\n <Route exact path ='/signin' render = {() => currentUser ? (<Redirect to = '/' />) : (<SignInandSignUp/>)} />\n {/* <Route  path ='/topics' component ={TopicList} />\n <Route  path ='/topics/:topicsid' component ={TopicDetail} /> */}\n </Switch>\n  </div>  );\n\n  };\n\n  // componentWillUnmount() {\n  //    this.unSubscribeFromAuth();\n  // }\n\n  \n\n\n  \n    \n\nconst mapStateToProps = createStructuredSelector ({\n  currentUser: selectCurrentUser\n  //collectionsArray: selectCollectionsForPreivew\n});\n\n// const mapDispatchToProps=dispatch => ({\n//   setCurrentUser: user => dispatch(setCurrentUser(user)) // the user is oof user-reducer\n\n// });\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSession: () => dispatch(checkUserSession())\n});\n\nexport default connect (mapStateToProps,mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}